{% extends "base.html" %}
{% block content %}

<div class="max-w-2xl mx-auto bg-white p-8 rounded-2xl shadow-xl mt-6 animate-fadeIn">
  <!-- Titre principal -->
  <h2 class="text-3xl md:text-4xl font-extrabold text-green-700 mb-6 text-center">
    📞 Nous contacter
  </h2>

  <!-- Formulaire de contact -->
  <form action="#" method="post" class="space-y-5" onsubmit="return validateForm()">
    <!-- Champ nom -->
    <div>
      <label class="block text-sm font-semibold text-gray-700">Votre nom</label>
      <input type="text" name="nom" 
             class="w-full mt-1 px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 shadow-sm" 
             placeholder="Ex : Jean Dupont" required>
    </div>

    <!-- Champ message -->
    <div>
      <label class="block text-sm font-semibold text-gray-700">Votre message et numéro de téléphone</label>
      <textarea id="message" name="message" rows="5" 
                class="w-full mt-1 px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 shadow-sm" 
                placeholder="Écrivez votre message ici et ajoutez votre numéro pour un contact rapide..." required></textarea>
    </div>

    <!-- Bouton envoyer -->
    <button type="submit" id="submitBtn"
            class="bg-green-600 text-white px-6 py-3 rounded-full w-full hover:bg-green-700 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition duration-300"
            disabled>
      ✉️ Envoyer le message
    </button>
  </form>

  <!-- Contact rapide WhatsApp -->
  <div class="mt-8 text-center">
    <p class="text-sm text-gray-600 mb-3">📱 Ou contactez-nous directement :</p>
    <a href="https://wa.me/2290151782679" target="_blank"
       class="inline-flex items-center justify-center bg-green-500 text-white px-6 py-3 rounded-full hover:bg-green-600 shadow-lg transition duration-300">
      💬 Envoyer un message WhatsApp
    </a>
  </div>

  <!-- Bandeau promotion -->
  <div class="mt-10 bg-yellow-50 text-yellow-900 p-5 rounded-xl shadow-md text-center">
    💼 <span class="font-semibold">Vous aimez ce site et en voulez un pour votre projet ?</span><br>
    <a href="https://wa.me/2290151782679" target="_blank"
       class="inline-block mt-3 bg-green-600 text-white px-5 py-2 rounded-full hover:bg-green-700 transition duration-300 shadow">
      🚀 Discuter avec l'assistant
    </a>
  </div>
</div>

<!-- JS validation -->
<script>
  const messageField = document.getElementById('message');
  const submitBtn = document.getElementById('submitBtn');

  // Activer le bouton si le champ message n'est pas vide
  messageField.addEventListener('input', () => {
    submitBtn.disabled = messageField.value.trim() === '';
  });

  // Validation finale
  function validateForm() {
    if (messageField.value.trim() === '') {
      alert('⚠️ Veuillez écrire un message avant d\'envoyer.');
      return false;
    }
    return true;
  }
</script>

{% endblock %}

